@mixin statusColors($color, $status, $color2: $color)
  &.#{$status}
    background: linear-gradient(to right, $color2 0%, $color2 9px, white 10px, white 100%) no-repeat
    .branch-name,
    .branch-request a
      color: $color
      &:hover
        border-color: $color
    .status-icon g > *,
    .icon-request g > *
      fill: $color

.branches
  .small-title
    margin: 1.5em 0 0.7em

.branch-row
  border: 1px solid $cream-dark
  font-size: 16px
  text-align: right
  margin-bottom: .3rem
  color: $grey-dark
  background: linear-gradient(to right, #CACECE 0%, #CACECE 9px, white 10px, white 100%) no-repeat

  span
    width: 1.3em
    height: 1.3em
    margin-right: .2em
    display: inline-block
    vertical-align: middle

  .avatar
    display: inline-block
    width: 16px
    height: 16px
    margin-right: .7em
    border-radius: 50%
    vertical-align: middle
    background-color: #E9EBEB

  .row-item
    margin: .2em
    font-size: 16px
    font-weight: 400
    white-space: nowrap
    overflow: hidden
    a
      color: $grey-dark
      text-decoration: none
      &:hover
        text-decoration: underline

  @media #{$medium-up}
    & > div:first-of-type
      width: 25%
      position: relative
      &:after
        content: ""
        @include fadeOut(right, -90deg, $white)
    & > div:nth-of-type(2)
      width: 20%
    & > div:nth-of-type(3)
      width: 20%
    & > div:nth-of-type(4)
      width: 5%
    & > div:nth-of-type(5)
      width: 26%

  @include statusColors($green-dark, 'passed')
  @include statusColors($red-dark, 'failed')
  @include statusColors($red-dark, 'errored')
  @include statusColors($grey-medium, 'canceled')
  @include statusColors(#bfb502, 'started', #e5db29)
  @include statusColors(#bfb502, 'queued', #e5db29)
  @include statusColors(#bfb502, 'booting', #e5db29)
  @include statusColors(#bfb502, 'received', #e5db29)
  @include statusColors(#bfb502, 'created', #e5db29)


%row-element
  vertical-align: middle
  @media #{$medium-up}
    display: inline-block
  .row-item
    vertical-align: middle

.two-line
  @extend %row-element
  padding: .6em 0
  margin-left: 2em
  text-align: left

  @media #{$medium-up}
    margin-left: 0

.one-line
  @extend %row-element
  .row-item
    display: inline-block
  .branch-nav
    display: none
    @media #{$medium-up}
      display: block

// @todo refactor into dropup module
%dropup
  @media #{$medium-up}
    position: absolute
    display: none
    z-index: 5
    background-color: $white
    border-radius: 2px
    
    &:after,
    &:before
      content: ""
      position: absolute
      display: block
      width: 10px
      height: 10px
      left: 46%
      transform: rotate(45deg)
    &:before
      bottom: -6px
    &:after
      bottom: -4px;
      background-color: $white
    .dropup-trigger:hover ~ &,
    .dropup-trigger:hover &,
    &:hover
      display: block

.dropup--blue
  @extend %dropup
  ul
    margin: 0
    padding: 0
    list-style-type: none
    text-align: center
  li
    display: inline-block
    margin: 2em 0
    background: $teal-dark
    border-radius: 2px
  a
    display: inline-block
    padding: 0.3em 0.5em
    color: $white
    text-decoration: none
  .icon-trigger path,
  .icon-eye path
    fill: $white
    
  @media #{$medium-up}
    padding: .4em
    transform: translate(-2.7em, -8.2em)
    border: 1px solid $teal-dark
    li
      display: block
      margin: 0
      background-color: $white
    .icon-trigger path,
    .icon-eye path
      fill: #A7AEAE
    a
      display: block
      padding: 0.2em 0.5em
      text-decoration: none
      color: $grey-dark
      &:hover
        background-color: $teal-dark
        color: $white
        .icon-trigger path,
        .icon-eye path
          fill: $white

    &:before
      background-color: $teal-dark

.dropup--status
  @extend %dropup
  display: none
  @media #{$medium-up}
    top: -3em
    padding: .2em .3em
    white-space: nowrap
    font-size: 14px;
    border: 1px solid $red-dark
    &:before
      background-color: $red-dark

.dropup-trigger
  padding: 1em 0
  path
    fill: $teal-dark

// @todo refactor to status-icon module
.status-icon
  .is-rotating
    width: 17px
    height: 19px
    line-height: 1
    transform-origin: center center
    will-change: transform
    animation: rotation 3s infinite ease
    .circle
      display: inline-block
      vertical-align: middle
      width: 5px
      height: 5px
      border: solid 2px #e5db29
      border-radius: 50%
      transform-origin: center center

@keyframes rotation
  0%
    transform: rotateZ(0deg)
  45%, 55%
    transform: rotateZ(180deg)
  100%
    transform: rotateZ(360deg)

