/*
 * Dashboard
 * @todo: split into components: filter, search
 */

%br-4px
 border-radius: 4px

$db-gray: #C9C9C9
$db-text-color: #ACAAAA

.dashboard
  color: $db-text-color
  hr
    max-width: 1024px
    margin: auto
    border-top: none
    border-bottom: $db-gray dashed 1px

.wrapper-dashboard
  background-color: $wrapper-bg-color

.dashboard--empty
  padding: 2em 5em
  background: #E8E6DE
  color: $db-gray
  font-size: 20px
  font-weight: 300
  text-align: center
  @extend %br-4px
  p .icon
    width: 1.5em
    height: 1.5em
    transform: translate(-20%, 18%)

.db
  position: relative
  margin-bottom: 1em
  background: $white
  @extend %br-4px

  h2, h3, p
    margin: 0
    font-weight: 400
    white-space: nowrap

  .icon
    position: absolute
    left: 0
    top: 0
    bottom: 0
    margin: auto

.db-repo
  padding-left: 3em
  transform: translateY(0.4em)
  overflow: hidden
  margin-bottom: 1em
  &:after
    content: ""
    display: block
    position: absolute
    top: 0
    right: 0
    height: 100%
    width: 3em
    background: linear-gradient(-90deg, $white 40%, rgba($white, 0))

.db-status
  position: absolute;
  top: 0
  left: 0
  height: 100%
  width: 2.5em
  background-color: $db-gray
  border-top-left-radius: 4px
  border-bottom-left-radius: 4px

  .icon
    width: 1.1em
    height: 1.1em

  .icon-status
    left: 0
    right: 0
    margin: auto
    top: -6em

  .icon-star
    left: 0
    right: 0
    margin: auto
    top: -2em
    opacity: .9

.db-controls
  line-height: 2.2
  p,
  button
    display: inline-block
  button
    margin-left: 1em

  .icon
    width: 1.6em
    height: 1.6em

.db-job,
.db-branch,
.db-commit,
.db-timeago
  position: relative
  padding-left: 2.2em
  z-index: 30

.db-lock
  position: absolute
  left: -2.1em;
  top: 1.2em;
  .icon
    width: 1em
    height: 1em

.db-activation
  text-align: right
  padding-right: 0

.db-burger
  position: absolute;
  top: 0
  right: 0
  height: 4em
  width: 4em
  cursor: pointer
  z-index: 30
  .icon
    width: 2em
    height: 2em
    left: 0
    right: 0

.db-burger:hover ~ .dropdown,
.dropdown:hover
  display: block

.dropdown
  @include resetul
  @extend %br-4px
  position: absolute
  padding: .8em .5em
  z-index: 90
  width: 12.5em;
  right: 0;
  top: 4em;
  border: 2px #C3D9DB solid;
  background-color: $white
  a
    display: block
    padding: 0.4em 1em .2em
    &:hover
      background-color: $dropdown-color
      color: $white
  &:before
    content: ""
    width: 1.2em
    height: 1.2em
    display: block
    position: absolute
    top: -0.7em;
    right: 1.1em;
    background-color: $white
    
    background-color: #fff;
    border-top: solid 2px #C3D9DB;
    border-left: solid 2px #C3D9DB;
    transform: rotate(45deg);

  display: none

.dashboard-starred
  margin: 2em 0 3em
  .db
    padding-bottom: .2em
  .db-controls
    padding-left: 3em

.dashboard-active,
.dashboard-inactive
  margin-bottom: 3em
  .db-controls
    padding-left: 4em
  @media #{$medium-up}
    .db
      height: 57px
    .db-repo
      padding-left: 4em
    .db-controls
      padding-left: 2em
      line-height: 3em
      transform: translateY(26%)
      border-left: 1px solid $db-gray
    .db-burger
      height: 100%
    .db-status
      .icon-status
        top: -2em

      .icon-star
        bottom: -4em

.dashboard-inactive
  margin: 1.5em 0 5em
  .db
    h2, h3, p, button, .db-status
      opacity: .7


@mixin colorDbelements($color)
  .db-status
    background-color: $color
  .db-repo
    h2, h3, a
      color: $color
  .db-job
    color: $color
    a
      color: $color

.db--started
  @include colorDbelements($start-color)
.db--fail
  @include colorDbelements($fail-color)
.db--error
  @include colorDbelements($error-color)
.db--cancel
  @include colorDbelements($cancel-color)
.db--pass
  @include colorDbelements($pass-color)
.db--inactive
  @include colorDbelements($cancel-color)

// .current-org-avatar
//   display     : inline-block
//   height      : 20px
//   width       : 20px
//   vertical-align: top
//   margin : -5px 5px 0 0

// #filters
//   float : left

// #filters ul
//   text-align : left
//   display    : inline
//   margin     : 0
//   padding    : 0
//   list-style : none
//   z-index    : 1000

// #filters ul li
//   background   : $white
//   position     : relative
//   display      : inline-block
//   padding      : 10px 0 10px 0
//   margin-right : -4px
//   margin-top   : 0
//   cursor       : pointer
//   border-radius         : 0px

// #filters li.filters-start:hover
//   background-color : #fff

// #filters ul li ul
//   padding    : 0
//   position   : absolute
//   top        : 35px
//   left       : 0
//   width      : 200px
//   display    : none
//   opacity    : 0
//   visibility : hidden
//   box-shadow         : 2px 1px 4px 0px rgba(148,145,138,0.4)

// #filters ul li ul li
//   display      : block
//   line-height  : 23px
//   padding-left : 20px

// #filters ul li ul li:first-child
//   border-top-left-radius  : 4px
//   border-top-right-radius : 4px

// #filters ul li ul li:last-child
//   border-bottom-left-radius  : 4px
//   border-bottom-right-radius : 4px

// #filters ul li ul li div
//   display          : inline-block
//   width            : 20px
//   height           : 20px
//   margin-right     : 5px
//   text-indent      : -9999px
//   border-radius    : 100px

// #filters ul li ul li:hover
//   background : #5e869a
//   color      : $white

// #filters ul li:hover ul
//   display    : block
//   opacity    : 1
//   visibility : visible

// #views
//   float : left

// #views ul
//   text-align : left
//   display    : inline
//   margin     : 0
//   padding    : 0
//   list-style : none
//   z-index    : 1000

// #views ul li
//   background   : $white
//   position     : relative
//   display      : inline-block
//   padding      : 10px 0 10px 0
//   margin-right : -4px
//   margin-top   : 0
//   cursor       : pointer
//   border-radius         : 0px
//   -webkit-border-radius : 0px
//   -moz-border-radius    : 0px

// #views li.views-start:hover
//   background-color : #fff

// #views ul li ul
//   padding    : 0
//   position   : absolute
//   top        : 35px
//   left       : 0
//   width      : 200px
//   display    : none
//   opacity    : 0
//   visibility : hidden
//   box-shadow         : 2px 1px 4px 0px rgba(148,145,138,0.4)

// #views ul li ul li
//   display      : block
//   line-height  : 23px
//   padding-left : 20px

// #views ul li ul li:first-child
//   border-top-left-radius  : 4px
//   border-top-right-radius : 4px

// #views ul li ul li:last-child
//   border-bottom-left-radius  : 4px
//   border-bottom-right-radius : 4px

// #views ul li ul li:hover
//   background : #5e869a
//   color      : $white

// #views ul li:hover ul
//   display    : block
//   opacity    : 1
//   visibility : visible

// .currently-selected
//   font-weight : 600

// .arrow-down
//   width        : 0
//   height       : 0
//   display      : inline-block
//   padding-top  : 2px
//   margin-left  : 5px
//   border-left  : 5px solid transparent
//   border-right : 5px solid transparent
//   border-top   : 5px solid $dashboard-text-color


